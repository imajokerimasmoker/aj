<div class="player-container">
  <h1>Audio Player</h1>
  <p *ngIf="currentDir()">Directory: {{ currentDir() }}</p>

  <div class="now-playing" *ngIf="playlist().length > 0">
    <h2>Now Playing: {{ currentTrackName }}</h2>
    <audio #audioPlayer [src]="currentTrackUrl" controls (ended)="onEnded()" autoplay></audio>
    <div class="controls">
      <button (click)="prev()">Previous</button>
      <button (click)="next()">Next</button>
    </div>
  </div>

  <div class="playlist" *ngIf="playlist().length > 0">
    <h3>Playlist</h3>
    <ul>
      <li *ngFor="let track of playlist(); let i = index"
          [class.active]="i === currentIndex()"
          (click)="playTrack(i)">
        {{ track.split('/').pop() }}
      </li>
    </ul>
  </div>

  <div *ngIf="playlist().length === 0 && currentDir()">
    Loading tracks or no audio files found in "{{ currentDir() }}"...
  </div>

  <div *ngIf="!currentDir()">
    Please provide a 'dir' parameter in the URL, e.g., <code>?dir=test-album</code>
  </div>
</div>
